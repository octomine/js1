<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title></title>
</head>
<body>
	<script>
		var users = [
			{
				id:1,
				firstName:'Vasiliy',
				lastName:'Pupkin',
				birthDay:'06.12.1985',
				phones:[
					'89162358649',
					'89295671585'
				]
			},
			{
				id:2,
				firstName:'Ivan',
				lastName:'Petrov',
				birthDay:'12.06.1991',
				phones:[
					'89032569815'
				]
			},
			{
				id:3,
				firstName:'Piotr',
				lastName:'Ivanov',
				birthDay:'05.07.1963',
				phones:[
					'89156325470',
					'89020004789'
				]
			}
		];
		
		function addUser(users) {
			var user = { id:new Date().getTime().toString(16) };
			user.firstName = prompt('Введите имя');
			user.lastName = prompt('Введите фамилию');
			user.birthDay = prompt('Введите дату рождения');
			user.phones = [];
			while(true) {
				var phone = prompt('Введите номер телефона (для выхода введите пустой номер)');
				if(!phone) break;
				user.phones.push(phone);
			}
			users.push(user);
		}
		
		function removeUser(users, id) {
			var l = users.length;
			for(var i = 0; i < l; i ++) {
				if(users[i].id == id) {
					users.splice(i, 1);
					break;
				}
			}
		}
		
		function showUsers(users) {
			var l = users.length;
			for(var i = 0; i < l; i ++) {
				console.log('Имя: '+users[i].firstName, 'Фамилия: '+users[i].lastName, 'Дата рождения: '+users[i].birthDay, 'Телефоны: '+users[i].phones);
			}
		}
		
		function csvFormat(users) {
			return users.map(function(user) {
				return Object.keys(user).map(function(key) {
					if(typeof user[key] == 'string' || typeof user[key] == 'number') return ''+user[key]+'';
					else return user[key].map(function(phone) {
						return ''+phone+'';
					}).join(';');
				}).join(';');
			}).join('\r\n');
		}
		
		addUser(users);
		showUsers(users);
		console.log(csvFormat(users));
		removeUser(users, 1);
		showUsers(users);
		
	</script>
</body>
</html>